<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英國17天行程｜旅遊編輯與分享</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px 0;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
        }
        
        .trip-title {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        .trip-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary {
            background-color: #ff7e5f;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #ff6b4a;
            transform: translateY(-3px);
        }
        
        .btn-secondary {
            background-color: white;
            color: #2a5298;
        }
        
        .btn-secondary:hover {
            background-color: #f0f0f0;
            transform: translateY(-3px);
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .card {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }
        
        .card-title {
            color: #1e3c72;
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f5ff;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-title i {
            color: #ff7e5f;
        }
        
        .trip-overview {
            grid-column: 1 / -1;
        }
        
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .overview-item {
            background-color: #f8faff;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #2a5298;
        }
        
        .overview-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }
        
        .overview-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1e3c72;
        }
        
        .day-card {
            margin-bottom: 20px;
            border-left: 5px solid #ff7e5f;
        }
        
        .day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .day-title {
            font-size: 1.3rem;
            color: #1e3c72;
        }
        
        .day-theme {
            background-color: #e6f0ff;
            color: #2a5298;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .activity-list {
            list-style-type: none;
        }
        
        .activity-item {
            padding: 10px 0;
            border-bottom: 1px dashed #eee;
            display: flex;
            align-items: flex-start;
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-time {
            min-width: 80px;
            font-weight: 600;
            color: #ff7e5f;
        }
        
        .activity-desc {
            flex: 1;
        }
        
        .cost-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .cost-table th, .cost-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .cost-table th {
            background-color: #f0f5ff;
            color: #1e3c72;
            font-weight: 600;
        }
        
        .cost-table tr:last-child td {
            border-bottom: 2px solid #2a5298;
            font-weight: 700;
        }
        
        .budget-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f0f7ff;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .budget-total-label {
            font-size: 1.1rem;
            color: #1e3c72;
            font-weight: 600;
        }
        
        .budget-total-value {
            font-size: 1.8rem;
            color: #ff7e5f;
            font-weight: 700;
        }
        
        .flight-details {
            background-color: #f8faff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .flight-leg {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px dashed #ddd;
        }
        
        .flight-leg:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .flight-info {
            display: flex;
            flex-direction: column;
        }
        
        .flight-route {
            font-weight: 600;
            color: #1e3c72;
            margin-bottom: 5px;
        }
        
        .flight-time {
            color: #666;
            font-size: 0.9rem;
        }
        
        .flight-number {
            background-color: #e6f0ff;
            color: #2a5298;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.9rem;
            align-self: flex-start;
        }
        
        .map-container {
            height: 300px;
            background-color: #e9ecef;
            border-radius: 8px;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-style: italic;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
            margin-top: 40px;
        }
        
        .share-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: #1e3c72;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #666;
            cursor: pointer;
        }
        
        .share-options {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .share-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .share-btn:hover {
            transform: translateY(-5px);
        }
        
        .share-facebook {
            background-color: #3b5998;
        }
        
        .share-whatsapp {
            background-color: #25D366;
        }
        
        .share-link {
            background-color: #2a5298;
        }
        
        .link-container {
            display: flex;
            margin-top: 20px;
        }
        
        #shareable-link {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px 0 0 5px;
            font-size: 0.9rem;
        }
        
        .copy-link {
            background-color: #2a5298;
            color: white;
            border: none;
            padding: 0 15px;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
        }
        
        @media (max-width: 992px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                gap: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .trip-title {
                font-size: 1.8rem;
            }
            
            .overview-grid {
                grid-template-columns: 1fr;
            }
            
            .day-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div>
                    <h1 class="trip-title">英國17天行程</h1>
                    <p class="trip-subtitle">2026年7月29日 - 8月13日 | 3人同行 | 愛丁堡→蘇格蘭高地→曼徹斯特</p>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary" id="shareBtn">
                        <i class="fas fa-share-alt"></i> 分享行程
                    </button>
                    <button class="btn btn-secondary" id="exportBtn">
                        <i class="fas fa-file-pdf"></i> 導出PDF
                    </button>
                </div>
            </div>
        </header>
        
        <div class="main-content">
            <div class="card trip-overview">
                <h2 class="card-title"><i class="fas fa-map-marked-alt"></i> 行程總覽</h2>
                <div class="overview-grid">
                    <div class="overview-item">
                        <div class="overview-label">旅行日期</div>
                        <div class="overview-value">2026.07.29 - 08.13</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">天數</div>
                        <div class="overview-value">16天15晚</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">人數</div>
                        <div class="overview-value">3人</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">主要交通</div>
                        <div class="overview-value">火車 + 自駕</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">路線</div>
                        <div class="overview-value">愛丁堡 → 蘇格蘭高地 → 格拉斯哥 → 湖區 → 利物浦 → 切斯特 → 曼徹斯特</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-plane-departure"></i> 去程航班</h2>
                <div class="flight-details">
                    <div class="flight-leg">
                        <div class="flight-info">
                            <div class="flight-route">香港 → 蘇黎世</div>
                            <div class="flight-time">2026年7月28日 23:15 - 7月29日 06:15 (瑞士国际航空 LX139)</div>
                            <span class="flight-number">經濟艙基礎票價</span>
                        </div>
                    </div>
                    <div class="flight-leg">
                        <div class="flight-info">
                            <div class="flight-route">蘇黎世 → 愛丁堡</div>
                            <div class="flight-time">2026年7月29日 07:30 - 08:40 (雪绒花航空 LX8290)</div>
                            <span class="flight-number">經濟艙基礎票價</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-plane-arrival"></i> 回程航班</h2>
                <div class="flight-details">
                    <div class="flight-leg">
                        <div class="flight-info">
                            <div class="flight-route">曼徹斯特 → 蘇黎世</div>
                            <div class="flight-time">2026年8月12日 18:40 - 21:40 (瑞士国际航空 LX381)</div>
                            <span class="flight-number">經濟艙基礎Plus票價</span>
                        </div>
                    </div>
                    <div class="flight-leg">
                        <div class="flight-info">
                            <div class="flight-route">蘇黎世 → 香港</div>
                            <div class="flight-time">2026年8月12日 22:40 - 8月13日 16:40 (瑞士国际航空 LX138)</div>
                            <span class="flight-number">經濟艙基礎Plus票價</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-calendar-alt"></i> 每日行程</h2>
                
                <div class="day-card card">
                    <div class="day-header">
                        <h3 class="day-title">第1天｜7月29日（週三）｜愛丁堡抵達</h3>
                        <span class="day-theme">歷史老城漫步</span>
                    </div>
                    <ul class="activity-list">
                        <li class="activity-item">
                            <span class="activity-time">08:40</span>
                            <span class="activity-desc">抵達愛丁堡機場</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">09:00-09:30</span>
                            <span class="activity-desc">機場→市區（Airlink 100巴士，30分鐘，£19.5總｜£6.5/人）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">09:35-10:00</span>
                            <span class="activity-desc">酒店寄存行李</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">10:00-18:00</span>
                            <span class="activity-desc">老城徒步：Castlehill→維多利亞街→聖吉爾斯大教堂→皇家一英里→Grassmarket</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">18:00-20:00</span>
                            <span class="activity-desc">晚餐</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">住宿</span>
                            <span class="activity-desc">愛丁堡</span>
                        </li>
                    </ul>
                </div>
                
                <div class="day-card card">
                    <div class="day-header">
                        <h3 class="day-title">第2天｜7月30日（週四）｜愛丁堡城堡</h3>
                        <span class="day-theme">皇室地標與隱世村落</span>
                    </div>
                    <ul class="activity-list">
                        <li class="activity-item">
                            <span class="activity-time">09:00-12:00</span>
                            <span class="activity-desc">愛丁堡城堡（需預約，£54總｜£18/人）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">12:30-14:30</span>
                            <span class="activity-desc">皇家遊艇不列顛尼亞號（巴士前往，£36總｜£12/人）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">15:00-16:30</span>
                            <span class="activity-desc">愛丁堡皇家植物園（免費，溫室£7.5總｜£2.5/人）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">17:00-18:00</span>
                            <span class="activity-desc">Dean Village（步行25分鐘）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">住宿</span>
                            <span class="activity-desc">愛丁堡</span>
                        </li>
                    </ul>
                </div>
                
                <div class="day-card card">
                    <div class="day-header">
                        <h3 class="day-title">第4-6天｜8月1-3日（週六至一）｜高地與斯凱島三日團</h3>
                        <span class="day-theme">跟團行程</span>
                    </div>
                    <ul class="activity-list">
                        <li class="activity-item">
                            <span class="activity-time">第4天 (8/1)</span>
                            <span class="activity-desc">愛丁堡→洛蒙德湖→格倫科峽谷→威廉堡→斯凱島</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">第5天 (8/2)</span>
                            <span class="activity-desc">斯凱島全日遊（波特里、The Storr、Kilt Rock、鄧韋根城堡）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">第6天 (8/3)</span>
                            <span class="activity-desc">艾琳多南城堡→尼斯湖→返回愛丁堡（約19:00抵達）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">費用</span>
                            <span class="activity-desc">£960總｜£320/人</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">住宿</span>
                            <span class="activity-desc">斯凱島2晚，第6晚愛丁堡</span>
                        </li>
                    </ul>
                </div>
                
                <div class="day-card card">
                    <div class="day-header">
                        <h3 class="day-title">第7天｜8月4日（週二）｜前往格拉斯哥</h3>
                        <span class="day-theme">租車與城市核心</span>
                    </div>
                    <ul class="activity-list">
                        <li class="activity-item">
                            <span class="activity-time">10:00-10:50</span>
                            <span class="activity-desc">愛丁堡→格拉斯哥（火車，50分鐘，£36總｜£12/人）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">14:00</span>
                            <span class="activity-desc">格拉斯哥取車（租車5天，£450總｜£150/人）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">下午</span>
                            <span class="activity-desc">格拉斯哥市區：喬治廣場→格拉斯哥大教堂</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">住宿</span>
                            <span class="activity-desc">格拉斯哥</span>
                        </li>
                    </ul>
                </div>
                
                <div class="day-card card">
                    <div class="day-header">
                        <h3 class="day-title">第16天｜8月13日（週四）｜曼徹斯特→香港</h3>
                        <span class="day-theme">回程</span>
                    </div>
                    <ul class="activity-list">
                        <li class="activity-item">
                            <span class="activity-time">上午</span>
                            <span class="activity-desc">曼徹斯特最後遊覽：科學產業博物館→北區文藝區</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">14:00-14:20</span>
                            <span class="activity-desc">前往曼徹斯特機場（火車，20分鐘）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">15:40前</span>
                            <span class="activity-desc">辦理登機手續（起飛前3小時）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">18:40</span>
                            <span class="activity-desc">航班LX381起飛（曼徹斯特→蘇黎世）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">21:40-22:40</span>
                            <span class="activity-desc">蘇黎世轉機（1小時）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">22:40</span>
                            <span class="activity-desc">航班LX138起飛（蘇黎世→香港）</span>
                        </li>
                        <li class="activity-item">
                            <span class="activity-time">+1天16:40</span>
                            <span class="activity-desc">抵達香港國際機場</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-car"></i> 自駕階段詳情</h2>
                <div class="overview-grid">
                    <div class="overview-item">
                        <div class="overview-label">租車期間</div>
                        <div class="overview-value">8月4日14:00 - 8月10日13:00（6天）</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">路線</div>
                        <div class="overview-value">格拉斯哥→湖區→利物浦→切斯特</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">總里程</div>
                        <div class="overview-value">約265英里（425公里）</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">租車費用</div>
                        <div class="overview-value">£450總｜£150/人</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">預計油費</div>
                        <div class="overview-value">£130總｜£43.3/人</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">預計停車費</div>
                        <div class="overview-value">£50總｜£16.7/人</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-train"></i> 主要火車行程</h2>
                <table class="cost-table">
                    <thead>
                        <tr>
                            <th>路線</th>
                            <th>日期與時間</th>
                            <th>費用</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>愛丁堡→格拉斯哥</td>
                            <td>8月4日 10:00-10:50（50分鐘）</td>
                            <td>£36總｜£12/人</td>
                        </tr>
                        <tr>
                            <td>切斯特→曼徹斯特</td>
                            <td>8月12日 12:00-13:00（1小時）</td>
                            <td>£24總｜£8/人</td>
                        </tr>
                        <tr>
                            <td>曼徹斯特市區→機場</td>
                            <td>8月13日 14:00-14:20（20分鐘）</td>
                            <td>£4.9/人</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-pound-sign"></i> 3人預算總表</h2>
                <table class="cost-table">
                    <thead>
                        <tr>
                            <th>項目</th>
                            <th>總費用</th>
                            <th>人均</th>
                            <th>備註</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>高地三日團</td>
                            <td>£960</td>
                            <td>£320</td>
                            <td>已包含導覽、部分住宿</td>
                        </tr>
                        <tr>
                            <td>租車6天</td>
                            <td>£450</td>
                            <td>£150</td>
                            <td>含基本保險</td>
                        </tr>
                        <tr>
                            <td>主要火車票</td>
                            <td>£120</td>
                            <td>£40</td>
                            <td>需提前預訂</td>
                        </tr>
                        <tr>
                            <td>湖區自駕小艇</td>
                            <td>£70</td>
                            <td>£23.3</td>
                            <td>需預約</td>
                        </tr>
                        <tr>
                            <td>住宿15晚</td>
                            <td>£1,700</td>
                            <td>£567</td>
                            <td>平均£113/晚/房</td>
                        </tr>
                        <tr>
                            <td>餐飲預算</td>
                            <td>£1,080</td>
                            <td>£360</td>
                            <td>£22.5/人/天</td>
                        </tr>
                        <tr>
                            <td>門票活動</td>
                            <td>£240</td>
                            <td>£80</td>
                            <td>城堡、博物館等</td>
                        </tr>
                        <tr>
                            <td>購物預算</td>
                            <td>£300</td>
                            <td>£100</td>
                            <td>彈性</td>
                        </tr>
                    </tbody>
                </table>
                <div class="budget-total">
                    <div class="budget-total-label">總預算（不含個人購物）</div>
                    <div class="budget-total-value">£3,920 總｜£1,307/人</div>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-hotel"></i> 住宿分佈</h2>
                <div class="overview-grid">
                    <div class="overview-item">
                        <div class="overview-label">愛丁堡</div>
                        <div class="overview-value">4晚（7/29-31, 8/3）</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">斯凱島</div>
                        <div class="overview-value">2晚（8/1-2，團安排）</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">格拉斯哥</div>
                        <div class="overview-value">3晚（8/4-6）</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">湖區</div>
                        <div class="overview-value">2晚（8/6-7）</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">利物浦</div>
                        <div class="overview-value">3晚（8/8-10）</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">切斯特</div>
                        <div class="overview-value">2晚（8/10-11）</div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-label">曼徹斯特</div>
                        <div class="overview-value">1晚（8/12）</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="map-container">
            <p><i class="fas fa-map"></i> 行程路線地圖：愛丁堡 → 蘇格蘭高地 → 格拉斯哥 → 湖區 → 利物浦 → 切斯特 → 曼徹斯特</p>
        </div>
        
        <div class="footer">
            <p>旅遊行程編輯器 | 英國17天行程 | 最後更新：2026年7月</p>
            <p>此行程可編輯、分享並導出為PDF文件</p>
        </div>
    </div>
    
    <!-- 分享模態框 -->
    <div class="share-modal" id="shareModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">分享行程</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <p>將您的旅遊行程分享給朋友或家人：</p>
            
            <div class="share-options">
                <div class="share-btn share-facebook" id="shareFacebook">
                    <i class="fab fa-facebook-f"></i>
                </div>
                <div class="share-btn share-whatsapp" id="shareWhatsApp">
                    <i class="fab fa-whatsapp"></i>
                </div>
                <div class="share-btn share-link" id="shareLinkBtn">
                    <i class="fas fa-link"></i>
                </div>
            </div>
            
            <div class="link-container">
                <input type="text" id="shareable-link" readonly value="https://trip-planner.com/uk-17-day-trip-2026">
                <button class="copy-link" id="copyLink">複製</button>
            </div>
            
            <p style="margin-top: 20px; font-size: 0.9rem; color: #666;">您也可以將此頁面導出為PDF文件保存或列印。</p>
        </div>
    </div>

    <script>
        // 獲取DOM元素
        const shareBtn = document.getElementById('shareBtn');
        const exportBtn = document.getElementById('exportBtn');
        const shareModal = document.getElementById('shareModal');
        const closeModal = document.getElementById('closeModal');
        const copyLinkBtn = document.getElementById('copyLink');
        const shareableLink = document.getElementById('shareable-link');
        
        // 分享按鈕點擊事件
        shareBtn.addEventListener('click', () => {
            shareModal.style.display = 'flex';
        });
        
        // 關閉模態框
        closeModal.addEventListener('click', () => {
            shareModal.style.display = 'none';
        });
        
        // 點擊模態框外部關閉
        window.addEventListener('click', (e) => {
            if (e.target === shareModal) {
                shareModal.style.display = 'none';
            }
        });
        
        // 複製連結
        copyLinkBtn.addEventListener('click', () => {
            shareableLink.select();
            shareableLink.setSelectionRange(0, 99999); // 對於移動設備
            document.execCommand('copy');
            
            // 顯示成功提示
            const originalText = copyLinkBtn.textContent;
            copyLinkBtn.textContent = '已複製!';
            copyLinkBtn.style.backgroundColor = '#4CAF50';
            
            setTimeout(() => {
                copyLinkBtn.textContent = originalText;
                copyLinkBtn.style.backgroundColor = '#2a5298';
            }, 2000);
        });
        
        // 社交媒體分享
        document.getElementById('shareFacebook').addEventListener('click', () => {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent('查看我的英國17天旅遊行程！');
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`, '_blank');
        });
        
        document.getElementById('shareWhatsApp').addEventListener('click', () => {
            const text = encodeURIComponent('查看我的英國17天旅遊行程：' + window.location.href);
            window.open(`https://wa.me/?text=${text}`, '_blank');
        });
        
        document.getElementById('shareLinkBtn').addEventListener('click', () => {
            shareableLink.select();
            shareableLink.setSelectionRange(0, 99999);
            document.execCommand('copy');
            
            const originalText = copyLinkBtn.textContent;
            copyLinkBtn.textContent = '已複製!';
            copyLinkBtn.style.backgroundColor = '#4CAF50';
            
            setTimeout(() => {
                copyLinkBtn.textContent = originalText;
                copyLinkBtn.style.backgroundColor = '#2a5298';
            }, 2000);
        });
        
        // 導出PDF
        exportBtn.addEventListener('click', async () => {
            exportBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 正在生成PDF...';
            exportBtn.disabled = true;
            
            try {
                // 使用html2canvas將頁面轉換為圖片
                const element = document.body;
                const canvas = await html2canvas(element, {
                    scale: 2,
                    useCORS: true,
                    logging: false,
                    backgroundColor: '#f8f9fa'
                });
                
                // 使用jsPDF創建PDF
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                const imgWidth = 210; // A4寬度
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                
                // 添加圖片到PDF
                const imgData = canvas.toDataURL('image/png');
                pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
                
                // 保存PDF
                pdf.save('英國17天行程-2026.pdf');
                
                exportBtn.innerHTML = '<i class="fas fa-file-pdf"></i> 導出PDF';
                exportBtn.disabled = false;
                
            } catch (error) {
                console.error('PDF生成錯誤:', error);
                alert('PDF導出失敗，請稍後再試。');
                exportBtn.innerHTML = '<i class="fas fa-file-pdf"></i> 導出PDF';
                exportBtn.disabled = false;
            }
        });
        
        // 添加一些互動效果
        document.querySelectorAll('.day-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
                this.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.1)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.05)';
            });
        });
        
        // 為預算總表添加點擊效果
        document.querySelector('.budget-total').addEventListener('click', function() {
            this.style.transform = 'scale(1.02)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
            }, 200);
        });
    </script>
</body>
</html>
